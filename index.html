<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8" />
	<meta name="author" content="Timo van Neerden" />
	<meta name="viewport" content="initial-scale=1.0, user-scalable=yes" />
	<title>Try 22</title>
	<style type="text/css">
	</style>
</head>
<body>
<div id="info"></div>

<script type="text/javascript">
document.addEventListener('touchstart', handleTouchStart, false);
document.addEventListener('touchmove', handleTouchMove, false);
document.addEventListener('touchend', handleTouchEnd, false);
document.addEventListener('touchcancel', handleTouchEnd, false);

var xDown = null;
var yDown = null;
var doTouchBreak = null;
var minDelta = 200;

function handleTouchEnd() {
	doTouchBreak = null;
};

function handleTouchStart(evt) {
	xDown = evt.touches[0].clientX;
	yDown = evt.touches[0].clientY;
};

function handleTouchMove(evt) {
	if ( !xDown || !yDown || doTouchBreak) { return; }

	var xUp = evt.touches[0].clientX;
	var yUp = evt.touches[0].clientY;

	var xDiff = xDown - xUp;
	var yDiff = yDown - yUp;

	// horizontal swipe
	if ( Math.abs( xDiff ) > Math.abs( yDiff ) ) {
		if ( xDiff > minDelta ) {
			/* left swipe */
			doTouchBreak = true;
		} else if ( xDiff < -minDelta) {
			/* right swipe */
			document.getElementById('info').appendChild(document.createTextNode('Right! '));
			doTouchBreak = true;
		}
	// vertical swipe
	} else {
		if ( yDiff > minDelta ) {
			/* up swipe */
			document.getElementById('info').appendChild(document.createTextNode('Up! '));
			doTouchBreak = true;
		} else if ( yDiff < -minDelta) {
			/* down swipe */
			document.getElementById('info').appendChild(document.createTextNode('Down! '));
			doTouchBreak = true;
		}
	}

	if (doTouchBreak) {
		xDown = null;
		yDown = null;
	}
};
</script>
</body>
</html>
